# CatchUp

## 概要

CatchUpはRSSアグリゲータの一種です。

主な機能

* クローラでRSS(に限りませんが)に応じて本文を含めて取得する
* 取得したものをデータベースに登録する
* チャットインターフェースで記事を読む

という致ってプリミティブなRSSリーダですが、LLMとベクトル検索を装備することにより、

* 記事本文を要約する
* 記事内にある単語の辞典を作成/更新する
* 自然言語による検索を行う

という機能を持っています。

つまり、情報のキャッチアップに必要なエネルギーを低減し、かつ知的な血肉にすることに特化したRSSアグリゲータです。

これは単なる情報収集ツールではありません。
CatchUpは、ニュースを読む自由、知識を育てる自由を取り戻すために作られました。

---

## 動作環境とインストール方法

CatchUpはまだパッケージ化はされていませんので、`git clone`にて取得して下さい。

--- git clone

### 動作環境

Linux(Ubuntu)上で開発していますが、特に深い依存性はありません。
お好きな環境でどうぞ。

- Node.js: Ver 20.19.1あたり
- Weaviate: Ver 2.x系

local LLM対応ですが、使うなら14B以上のモデルを使ったほうがよいでしょう。
あまり小さいモデルだと処理が破綻しがちです。
面倒なら、`Gemini`でも`OpenAI`でも使ってください。
コードをいじれば(`libs/request.js)、他のものでも動くでしょう。

ベクトルデータベースとして、`Weaviate`を使用しています。

ベクトル化は`plamo`に対応していることになっていますが、試していません。
大人しく`openai`を使いましょう。

環境設定は、プロジェクト直下にある`.env.sample`を`.env`にコピーして修正してください。
RSSフィードの設定は`config/rss_feeds-sample.js`を参考に、`config/rss_feeds.js`を作成してください。

RSSでないBSS(山陰放送ニュース)のクローラもありますが、これは設定なしで動きます。
これはRSSのないサイトのクローラ作成用のサンプルです。

## 使い方

### クロール

クロールするには、

```shell
$ npm run rss
```

です。
クローラが動作して、`$DOWNLOAD_FOLDER`に蓄積されます。
何度走らせても、取得済みの情報は取得されません。

### サマライズ

取得したデータを元に要約情報と知識情報を作成します。

```shell
$ npm run summarize
```

サマライズ処理が動き、`$PROCESSED_FOLDER`には取得したデータに要約された記事データが付加されたデータが作成されます。
また、`$KNOWLEDGE_FOLDER`には取得したデータにある「意味ありそうな単語」についての情報のデータが作成されます。

サマライズ処理は**要約作成時にLLMを1回とベクトル化処理を1回**呼び出します。
また、**単語処理はLLMを2回、ベクトル化処理を1回**呼び出します。
つまり、結構重い処理ですので注意して下さい。

サマライズ処理は処理の重複チェックをしていますので、1度処理したデータについては処理を行いません。

### UI処理

実行するにはまず、

```shell
$ npm run server
```

としてAPIを起動します。その後に

```shell
$ npm run dev
```

としてsvelteの開発サーバを起動します。
その後にブラウザでポート**5174**にアクセスするとショボいチャット画面が開きます。

### 使う

現在のUIは、自作のショボいチャット画面のみです。

- 「今日のニュース」
- 「経済に関する新しい動き」
- 「トランプは何か言ってる？」
- 「Linuxの動向」

というような質問をすると、適当に答えてくれます。

文脈を理解しているので、続けて「その件について詳しく」といったりできます。

ニュース記事ベースで答えるか、知識エントリーベースで答えるかを自動判別します。
「○○について教えて」と質問した時に、それがニュースに属するか一般的な事項に関することかを判別して、ニュースに属することであればニュース記事をベースに、一般的な事項に関することであれば知識情報をベースに答えます。

ですから、たとえば「Linuxについて教えて」と聞けば、**今までのニュースから得られた**Linuxに関する知識で教えてくれます。

## 注意

これはあくまでも**個人利用前提のソフトです**。

- 記事の著作権をまったく考慮していません
- 個人で読むだけなら法律的にセーフ
- 公開や分配はNG（異法）

CatchUpは、**知識の自由を守るために、クラウドを避けたローカル設計で作られました。**
使う人も自由と同じく、責任を負いましょう。

## その他

プルリク待ってますｗ
