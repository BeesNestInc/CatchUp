# 知識管理における問題と設計

---

## 1. 問題点

### (1) 現状のシステム構造

- ニュース文章を単にEmbeddingしてベクトル検索している
- 検索結果をもとにLLMがまとめ回答している

### (2) 問題の本質

| 問題点 | 説明 |
|:---|:---|
| 知識の理解ができていない | ニュースを読んでも、LLMが実際に「対象を理解」していない |
| 参照される対象が不安定 | 何が重要な知識か決まっていない |
| 單純な回数カウントでは破綻する | 無意味な対象が上位に来る可能性 |
| 時約・価値概念がない | 古くても価値ある知識が埋もれる |

---

## 2. あるべき姿

### (1) 知識と作業記憶を分離する

- **作業記憶層 (Hot/Cold)**
- **知識記憶層 (Knowledge Memory)**

### (2) 知識エントリの単位管理

- ニュース文章とは別に、対象エンティティをKnowledgeEntryとして別管理

### (3) 知識の成長・忘却モデル

- 参照回数や重みで挑選
- 時間経過とともに使われないものは自然に消える

### (4) シンプルなスタート

- 最初はざっくり、ついてに試行錯誤で成長

---

## 3. 現実的な実装案

### (1) KnowledgeEntryスキーマ

| フィールド | 内容 |
|:---|:---|
| id | 固有ID |
| name | 知識対象名 |
| type | 種類 (product, service, feature...) |
| sourceArticles | 縁づくニュースID |
| referCount | 参照回数 |
| lastReferTime | 最後の参照時間 |
| weight (optional) | 将来的な重み価 |
| embedding | ベクトル表現 |

### (2) 運用ルール

- 新規登録
- 参照時にreferCount加算
- 関数闘超えたら長期記憶に格上
- 久しく参照されなければ削除も検討

### (3) 知識参照フロー

1. KnowledgeEntry検索
2. ヒットしたらそちらを優先して使う
3. ヒットしなければ通常のベクトルRAG

---

# 推考：これから

- メモ：とりあえず最初はざっくり、ごちゃごちゃにひろう。
- ノイズも同等として扱う。
- 同義語問題も、別に同等として考える必要はない。
- n-gram手法も考慮したが、現実のことを考慮するとLLMに「名詞らしいものを抽出して」と頼む方がコスト節約に符合する。

